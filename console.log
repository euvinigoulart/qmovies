function salvarVendaModal() {
    const data = document.getElementById("dataVenda").value;
    const descricao = document.getElementById("descricaoProduto").value;
    const valor = parseFloat(document.getElementById("valorVenda").value);
    const local = document.getElementById("localVenda").value;

    console.log("Dados da venda:", { data, descricao, valor, local }); // Verifique se os dados estão corretos

    if (isNaN(valor)) {
        alert("O valor deve ser um número válido.");
        return;
    }

    const venda = { data, descricao, valor, local };

    if (vendaEditando !== null) {
        // Editar venda existente
        db.collection("vendas").doc(vendaEditando).update(venda)
            .then(() => {
                console.log("Venda atualizada com sucesso!");
                fecharModal();
                carregarVendas();
            })
            .catch((error) => {
                console.error("Erro ao atualizar venda:", error);
            });
    } else {
        // Adicionar nova venda
        db.collection("vendas").add(venda)
            .then(() => {
                console.log("Venda salva com sucesso!");
                fecharModal();
                carregarVendas();
            })
            .catch((error) => {
                console.error("Erro ao salvar venda:", error);
            });
    }
}
